/*Nombre de la base de datos: practicarestaurante*/

CREATE TABLE restaurantes (
    codRes INT AUTO_INCREMENT PRIMARY KEY,
    correo VARCHAR(100) NOT NULL,
    clave VARCHAR(255) NOT NULL,
    pais VARCHAR(100) NOT NULL,
    cp VARCHAR(10) NOT NULL,
    ciudad VARCHAR(100) NOT NULL,
    direccion VARCHAR(255) NOT NULL    
);

CREATE TABLE categorias (
    codCat INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion VARCHAR(255)
);

CREATE TABLE productos (
    codProd INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion VARCHAR(255),
    peso DECIMAL(10,2),
    stock INT,
    categoria INT NOT NULL,
    FOREIGN KEY (categoria) REFERENCES categorias(codCat)
);

CREATE TABLE pedidos (
    codPed INT AUTO_INCREMENT PRIMARY KEY,
    fecha DATETIME NOT NULL,
    enviado TINYINT(1) NOT NULL DEFAULT 0, /*0= No enviado; 1= Enviado*/    
    peso DECIMAL(10,2) NOT NULL,
    restaurante INT NOT NULL,
    FOREIGN KEY (restaurante) REFERENCES restaurantes(codRes)
);

CREATE TABLE pedidosproductos (
    codPedProd INT AUTO_INCREMENT PRIMARY KEY,
    pedido INT NOT NULL,
    producto INT NOT NULL,
    unidades INT NOT NULL,
    FOREIGN KEY (pedido) REFERENCES pedidos(codPed),
    FOREIGN KEY (producto) REFERENCES productos(codProd)
);